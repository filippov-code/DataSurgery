# DataSurgery - система хранения секретных данных на основе компьютерной стеганографии
Система стеганографии с поддержкой шифрования, позволяющая скрывать данные в медиафайлах (изображения, аудио) с помощью метода LSB (наименее значащего бита).
### Поддерживаемые форматы:
- .bmp 
- .jpeg
- .png
- .gif
- .tiff
- .wav

### Дополнительные функции
- Функция контроля степени сокрытия.
- Функция шифрование сообщения с помощью AES + FPE
- Функция сохранения настроек с помощью метаданных DSMD

### Степень сокрытия
Степень сокрытия указывает количество затрагиваемых битов методом LSB. С помощью неё можно управлять балансом между размером скрываемого сообщения и незаметностью скрытия.

### Безопасность
В качестве алгоритма шифрования в системе используется алгоритм AES.
Разбиение происходит посредством разделения на блоки по 128 бит.
Если исходное сообщение не кратно 128 битам, то к нему добавляются дополнительные биты до тех пор, пока его длина не станет кратной 128 битам.

Вместе с AES используется FPE (format-preserving encryption). FPE используется для шифрования блока DSMD с помощью FPE. Тогда размер метаданных не изменяется и DSMD по-прежнему занимает 9 байт в скрываемом сообщении.

### DSMD (DataSurgery Meta Data)
Помимо скрываемого сообщения система прячет блок метаданных DSMD. Блок метаданных. Он содержит информацию о настройках программы и о свойствах сообщения в момент сокрытия. Блок с метаданными добавляется перед сообщением, это позволяет программе прочитать его перед извлечением самого сообщения и применить описанные в метаданных настройки.
Таким образом для расшифровки нужно знать только парольные данные.
|Название поля|Размер поля|Смещение| Описание|
|--|--|--|--|
|method|1 byte|0h|Метод стеганографии|
|degree|1 byte|1h|Степень сокрытия|
|messageSize|4 bytes|2h|Размер сообщения|
|hash|2 bytes|6h|Хвост MD5|
|extensionSize|1 byte|8h|Размер расширения|
|extension|-|9h|Расширение в UTF8|

## Структура
### Core
Содержит базовую логику стеганографии через метод LSB. В нём содержатся  алгоритмы для встраивания и извлечения данных из поддерживаемых форматов файлов.
### Domain
Содержит бизнес-логику, применяет методы из Core к файлам, управляет процессом стеганографии и контролирует поток операций
### Encryption
Содержит инструменты для шифрования данных перед их встраиванием и для расшифрования после извлечения.
### Presentation
Содержит пользовательский интерфейс, реализованный как WPF-приложение.

![UI](https://github.com/filippov-code/DataSurgery/blob/master/readme-images/ui.png)

